{"version":3,"file":"src_app_pages_details_details_module_ts.js","mappings":"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","sources":["./src/app/pages/details/details-routing.module.ts","./src/app/pages/details/details.module.ts","./src/app/pages/details/details.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DetailsPage } from './details.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DetailsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DetailsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DetailsPageRoutingModule } from './details-routing.module';\n\nimport { DetailsPage } from './details.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    DetailsPageRoutingModule\n  ],\n  declarations: [DetailsPage]\n})\nexport class DetailsPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Auth } from '@angular/fire/auth';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { AvatarService } from 'src/app/services/avatar.service';\nimport { OverlayService } from 'src/app/services/overlay.service';\nimport { Geolocation } from '@capacitor/geolocation';\nimport { Camera, CameraResultType, CameraSource } from '@capacitor/camera';\nimport { Subscription } from 'rxjs';\n\n\n@Component({\n  selector: 'app-details',\n  templateUrl: './details.page.html',\n  styleUrls: ['./details.page.scss'],\n})\nexport class DetailsPage implements OnInit {\n\n  form: FormGroup;\n  coordinates: any;\n  approve2: boolean;\n  selected: any = 'Select Car Type';\n  cartypes: import(\"@angular/fire/firestore\").DocumentData[];\n  currentcar: any;\n  imageURl: any = '';\n  licenseURl: any ='';\n  licenseImage: any = '';\n  profileImage: any = '';\n  images: any[];\n  texts: any[];\n  subscription: Subscription;\n  subscription2: Subscription\n  docs: import(\"@angular/fire/firestore\").DocumentData[];\n  value: any;\n  addDocs: import(\"@angular/fire/firestore\").DocumentData[];\n  docus: any;\n  constructor(\n    private overlay: OverlayService, private authy: Auth, private auth: AuthService, private avatar: AvatarService, private router: Router\n  ) { }\n\n  ngOnInit() {\n    this.images = [];\n    this.texts = []\n\n     this.subscription = this.avatar.getCartypes().subscribe((d)=>{\n      console.log(d);\n      this.cartypes = d\n      this.subscription.unsubscribe();\n     })\n\n     this.subscription2 = this.avatar.getDocuments().subscribe((d)=>{\n      console.log(d);\n      this.docs = d\n      this.subscription2.unsubscribe();\n     })\n\n\n\n     this.avatar.getDocs().subscribe((d)=>{\n      console.log(d);\n      this.addDocs = d\n })\n\n    this.form = new FormGroup({\n      fullname: new FormControl(null, {\n        validators: [Validators.required, Validators.minLength(1), Validators.maxLength(200)]\n      }),\n      lastname: new FormControl(null, {\n        validators: [Validators.required, Validators.minLength(1), Validators.maxLength(200)]\n      }),\n      email: new FormControl(null, {\n        validators: [Validators.required, Validators.minLength(1), Validators.maxLength(200)]\n      }),\n      car: new FormControl(null, {\n        validators: [Validators.required, Validators.minLength(1), Validators.maxLength(200)]\n      }),\n      plate: new FormControl(null, {\n        validators: [Validators.required, Validators.minLength(1), Validators.maxLength(200)]\n      }),\n    });\n  }\n  \n\n  async chooseCarType(even){\n    console.log(even.detail.value);\n      this.currentcar = even.detail.value.name\n  }\n\n  async changeImage(g) {\n    try{\n    const image = await Camera.getPhoto({\n      quality: 20,\n      allowEditing: false,\n      resultType: CameraResultType.DataUrl,\n      source: CameraSource.Prompt, // Camera, Photos or Prompt!\n    });\n \n\n    for (let index = 0; index < this.docs.length; index++) {\n      const element = this.docs[index];\n      console.log(element);\n      if (element.name == g.name){\n      console.log(element);\n      this.docs[index].image = image.dataUrl;\n      this.overlay.showLoader('');\n      const bol = await this.avatar.createDocument(g.name, g.type, g.id, image.dataUrl, '');\n      console.log(bol)\n\n      this.overlay.hideLoader()\n      }\n      \n    }\n\n  }catch(e){\n    this.overlay.showAlert('Error', e)\n  }\n \n  }\n\n\n  async changeProfile(g) {\n    try{\n    const image = await Camera.getPhoto({\n      quality: 20,\n      allowEditing: false,\n      resultType: CameraResultType.DataUrl,\n      source: CameraSource.Prompt, // Camera, Photos or Prompt!\n    });\n    this.imageURl = image.dataUrl\n\n  }catch(e){\n    this.overlay.showAlert('Error', e)\n  }\n \n  }\n\n\n\n  async chooseText(e, value) {\n    await this.avatar.createDocument(e.name, e.type, e.id, '', value.detail);\n  }\n\n\n\n\n  async signIn() {\n    try {\n      await Geolocation.checkPermissions();\n      const coordinates = await Geolocation.getCurrentPosition();\n        if (this.currentcar && this.form.value.fullname && this.form.value.lastname && this.form.value.email && this.form.value.car && this.form.value.plate && this.imageURl && this.addDocs){\n          this.approve2 = true\n        await this.avatar.CreateNewDriver(coordinates, this.form.value.fullname + '' + this.form.value.lastname, this.form.value.email, this.authy.currentUser.phoneNumber, this.form.value.car, this.currentcar, this.form.value.plate, this.imageURl, this.licenseURl)\n        await this.avatar.createCard('Cash', 0, 'cash', 'None')\n        this.approve2 = false;\n        this.router.navigateByUrl('waiting');\n        }else{\n          this.overlay.showAlert('Incomplete', \"Complete the form\")\n        }\n    } catch(e) {\n      this.overlay.showAlert('Error', e)\n    }\n  }\n\n\n\n\n}\n"],"names":["Component","Auth","FormControl","FormGroup","Validators","Router","AuthService","AvatarService","OverlayService","Geolocation","Camera","CameraResultType","CameraSource","DetailsPage","constructor","overlay","authy","auth","avatar","router","ngOnInit","images","texts","subscription","getCartypes","subscribe","d","console","log","cartypes","unsubscribe","subscription2","getDocuments","docs","getDocs","addDocs","form","fullname","validators","required","minLength","maxLength","lastname","email","car","plate","chooseCarType","even","detail","value","currentcar","name","changeImage","g","image","getPhoto","quality","allowEditing","resultType","DataUrl","source","Prompt","index","length","element","dataUrl","showLoader","bol","createDocument","type","id","hideLoader","e","showAlert","changeProfile","imageURl","chooseText","signIn","checkPermissions","coordinates","getCurrentPosition","approve2","CreateNewDriver","currentUser","phoneNumber","licenseURl","createCard","navigateByUrl","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}